# Llama 聊天機器人與歷史紀錄

這個 Python 腳本可以讓你與 Llama 3.1 AI 模型進行互動，同時保留對話歷史。AI 聊天機器人會根據之前的訊息不斷學習並進行對話，所有的對話內容都會儲存在文字檔 (`message_history.txt`) 中，方便未來繼續對話。

## 功能：
- **對話歷史紀錄：** 腳本會讀取並儲存對話紀錄至 `message_history.txt` 檔案中，保持對話的連貫性。
- **互動式對話：** 使用者可以與 Llama 3.1 AI 進行互動，並且聊天會持續進行直到使用者輸入 "exit" 結束對話。
- **錯誤處理：** 包含錯誤處理機制，若互動失敗或發生例外，會顯示錯誤訊息。

## 需求：
- Python 3.x
- `ollama` 模組（用來與 Llama AI 互動）
- `prompt` 模組（包含教學指引和測驗問題等內容）

### 設置：
1. 安裝必要的庫：
    ```bash
    pip install ollama
    ```

2. 確保 `prompt` 模組已正確定義，包括變數如 `tutor_guideline`、`teaching_quiz` 和 `Progress`。

### 程式概述：

1. **初始化設置：**
    - 對話會從來自 `prompt` 模組的初始提示開始，包含教學指引、測驗問題和進度更新。

2. **讀取對話歷史：**
    - 程式會載入 `message_history.txt` 檔案中的對話紀錄，保持對話的連貫性。

3. **使用者互動：**
    - 程式會等待使用者的輸入，並將對話歷史發送給 Llama AI 模型 (`llama3.1:latest`)。
    - AI 回應會顯示在螢幕上，並將使用者的輸入與 AI 的回應一同儲存到對話歷史檔案中。

4. **結束對話：**
    - 輸入 `exit` 以結束對話，並將當前的對話歷史儲存起來。

### 如何使用：
1. 在終端中執行腳本。
2. 當看到提示 `👤 你:` 時，輸入你的訊息。
3. AI 會以 `🤖 Llama:` 回應。
4. 若要結束對話，請輸入 `exit`。

### 範例互動：

```plaintext
👤 你: 你好，Llama。
🤖 Llama: 你好！有什麼我可以幫助的嗎？

👤 你: 請解釋一下人工智慧。
🤖 Llama: 人工智慧（AI）是模擬人類智慧過程的技術，包括學習、推理、問題解決等。

👤 你: exit
🔴 結束對話...
```

### 注意：
- 每次對話結束後，對話紀錄會儲存到 `message_history.txt` 檔案中，這樣你可以在未來的對話中繼續從之前的位置開始。
- 本腳本使用 `ollama` 模組來與 Llama 3.1 互動，因此請確保該模型可用並已正確設置。

### 排錯：
- 若發生錯誤，錯誤訊息會被捕捉並顯示為 `⚠️ 發生錯誤: {error_message}`，幫助識別問題所在。

祝您與 Llama 聊天愉快！